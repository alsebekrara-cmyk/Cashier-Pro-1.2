
      <!-- ุงูุฅุญุตุงุฆูุงุช ุงูุณุฑูุนุฉ ููุฌูุฏุฉ ุงูุขู ูู ุงูุดุฑูุท ุงูุนููู -->
      <div class="pos-layout">
       <div class="products-section">
        <div class="section-header">
         <div class="section-title"><i class="fas fa-shopping-bag"></i> ุงูููุชุฌุงุช ุงููุชุงุญุฉ
         </div>
         <div class="pos-search-box">
             <i class="fas fa-search"></i>
             <input type="text" id="posSearchInput" class="pos-search-input" placeholder="ุงุจุญุซ ุนู ููุชุฌ..." onkeyup="filterPOSProducts()">
         </div>
        </div>
        <div class="category-filters" id="categoryFilters">
         <div class="category-btn active" data-category="all"><i class="fas fa-th-large"></i> ุงููู
         </div>
        </div>
        <div class="products-grid" id="productsGrid"><!-- ุงูููุชุฌุงุช ุณุชุธูุฑ ููุง -->
        </div>
       </div>
       <div class="cart-section">
        <div class="success-message" id="successMessage"><i class="fas fa-check-circle"></i> ุชู ุฅุชูุงู ุงูุจูุน ุจูุฌุงุญ! ๐
        </div>
        
        <!-- โ ุฒุฑ ูุจูุนุงุช ุงูููู -->
        <button class="btn btn-info" onclick="showTodaySalesReport()" style="width:100%;margin-bottom:0.8rem;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);border:none;padding:0.7rem;font-size:0.95rem;font-weight:700;">
          <i class="fas fa-file-invoice-dollar"></i> 
          <span>ูุจูุนุงุช ุงูููู</span>
          <i class="fas fa-chart-line" style="margin-left:0.5rem;"></i>
        </button>
        
        <div class="cart-header">
          <i class="fas fa-shopping-cart"></i> 
          <span class="cart-title">ุณูุฉ ุงููุดุชุฑูุงุช</span>
          <div class="cart-badge-info">
            <div class="cart-mini-stat">
              <i class="fas fa-boxes"></i>
              <span id="cartItemsCount">0</span>
            </div>
            <div class="cart-mini-stat total-price">
              <i class="fas fa-dollar-sign"></i>
              <span id="cartTotalPrice">0</span>
            </div>
          </div>
        </div>
        <div class="cart-items" id="cartItems">
         <div class="cart-empty"><i class="fas fa-shopping-cart"></i>
          <p>ุงูุณูุฉ ูุงุฑุบุฉ</p><small>ุงุฎุชุฑ ุงูููุชุฌุงุช ูุฅุถุงูุชูุง</small>
         </div>
        </div>
        <div class="cart-summary">
         <div class="discount-section"><input type="number" class="discount-input" id="discountInput" placeholder="ุฎุตู (%)">
         </div>
         <div class="summary-row"><span>ุงููุฌููุน ุงููุฑุนู:</span> <span class="summary-value" id="subtotal">0 ุฏููุงุฑ</span>
         </div>
         <div class="summary-row"><span>ุงูุฎุตู:</span> <span class="summary-value" id="discountAmount">0 ุฏููุงุฑ</span>
         </div>
         <div class="summary-row"><span>ุงูุถุฑูุจุฉ (<span id="taxRate">0</span>%):</span> <span class="summary-value" id="taxAmount">0 ุฏููุงุฑ</span>
         </div>
         <div class="summary-row total"><span>ุงููุฌููุน ุงูููุงุฆู:</span> <span class="summary-value" id="finalTotal">0 ุฏููุงุฑ</span>
         </div>
         <div class="payment-actions">
          <button class="payment-action-btn cash-btn" id="cashPaymentBtn" disabled>
            <i class="fas fa-money-bill-wave"></i>
            <span>ุฏูุน ููุฏู</span>
          </button>
          <button class="payment-action-btn installment-btn" id="installmentPaymentBtn" disabled>
            <i class="fas fa-calendar-alt"></i>
            <span>ุฏูุน ุจุงูุฃูุณุงุท</span>
          </button>
         </div>
        </div>
       </div>
      </div>
     </div><!-- ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช -->
     <div id="products" class="page">
      <div class="section-header" style="margin-bottom: 1.5rem;">
       <div class="section-title"><i class="fas fa-boxes"></i> ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช
       </div>
       <div class="pos-search-box">
           <i class="fas fa-search"></i>
           <input type="text" id="productsSearchInput" class="pos-search-input" placeholder="ุงุจุญุซ ูู ุงูููุชุฌุงุช..." onkeyup="filterProducts()">
       </div>
       <div style="display: flex; gap: 1rem; align-items: center; flex-wrap: wrap;">
        <div class="export-import-buttons">
            <button class="export-btn" onclick="if(window.securityManager.checkPermission('products_export')) exportData('products', 'json')" data-permission="products_export"> <i class="fas fa-download"></i> JSON </button> 
            <button class="export-btn" onclick="if(window.securityManager.checkPermission('products_export')) exportData('products', 'excel')" data-permission="products_export"> <i class="fas fa-file-excel"></i> Excel </button> 
            <button class="export-btn" onclick="if(window.securityManager.checkPermission('products_export')) exportData('products', 'pdf')" data-permission="products_export"> <i class="fas fa-file-pdf"></i> PDF </button> 
            <input type="file" id="importProductsFile" accept=".json,.xlsx,.csv" style="display: none;" onchange="if(window.securityManager.checkPermission('products_import')) importData('products')"> 
            <button class="import-btn" onclick="if(window.securityManager.checkPermission('products_import')) document.getElementById('importProductsFile').click()" data-permission="products_import"> <i class="fas fa-upload"></i> ุงุณุชูุฑุงุฏ </button>
        </div>
        <button class="btn btn-secondary" onclick="if(window.securityManager.checkPermission('products_add_category')) showAddCategoryModal()" data-permission="products_add_category"> <i class="fas fa-plus"></i> ุฅุถุงูุฉ ุชุตููู </button> 
        <button class="btn btn-primary" onclick="if(window.securityManager.checkPermission('products_add')) showAddProductModal()" data-permission="products_add"> <i class="fas fa-plus"></i> ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ </button>
       </div>
      </div>
      
      <div class="stats-grid" style="margin-bottom: 1.5rem;">
       <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-boxes"></i>
        </div>
        <div class="stat-value" id="totalProducts">
         0
        </div>
        <div class="stat-label">
         ุฅุฌูุงูู ุงูููุชุฌุงุช
        </div>
       </div>
       <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-dollar-sign"></i>
        </div>
        <div class="stat-value" id="totalValue">
         0
        </div>
        <div class="stat-label">
         ูููุฉ ุงููุฎุฒูู
        </div>
       </div>
       <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-exclamation-triangle"></i>
        </div>
        <div class="stat-value" id="lowStockItems">
         0
        </div>
        <div class="stat-label">
         ููุชุฌุงุช ููููุฉ ุงููุฎุฒูู
        </div>
       </div>
       <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-tags"></i>
        </div>
        <div class="stat-value" id="totalCategories">
         0
        </div>
        <div class="stat-label">
         ุนุฏุฏ ุงูุชุตูููุงุช
        </div>
       </div>
      </div>
      <div class="table-container">
       <table class="table">
        <thead>
         <tr>
          <th><i class="fas fa-barcode"></i> ุงูุจุงุฑููุฏ</th>
          <th><i class="fas fa-tag"></i> ุงุณู ุงูููุชุฌ</th>
          <th><i class="fas fa-layer-group"></i> ุงูุชุตููู</th>
          <th><i class="fas fa-money-bill"></i> ุณุนุฑ ุงูุจูุน</th>
          <th><i class="fas fa-coins"></i> ุณุนุฑ ุงูุชูููุฉ</th>
          <th><i class="fas fa-warehouse"></i> ุงููุฎุฒูู</th>
          <th><i class="fas fa-cogs"></i> ุงูุฅุฌุฑุงุกุงุช</th>
         </tr>
        </thead>
        <tbody id="productsTableBody"><!-- ุงูููุชุฌุงุช ุณุชุธูุฑ ููุง -->
        </tbody>
       </table>
      </div>
     </div><!-- ุตูุญุฉ ุฅุฏุงุฑุฉ ุงููุฎุฒู -->
     <div id="inventory" class="page">
      <div class="section-header" style="margin-bottom: 1.5rem;">
       <div class="section-title"><i class="fas fa-warehouse"></i> ุฅุฏุงุฑุฉ ุงููุฎุฒู
       </div>
       <div class="pos-search-box">
           <i class="fas fa-search"></i>
           <input type="text" id="inventorySearchInput" class="pos-search-input" placeholder="ุงุจุญุซ ูู ุงููุฎุฒูู..." onkeyup="filterInventory()">
       </div>
       <div class="export-import-buttons">
           <button class="export-btn" onclick="printInventoryReport()"> <i class="fas fa-print"></i> ุทุจุงุนุฉ </button>
           <button class="export-btn" onclick="exportData('inventory', 'json')"> <i class="fas fa-download"></i> JSON </button> 
           <button class="export-btn" onclick="exportData('inventory', 'excel')"> <i class="fas fa-file-excel"></i> Excel </button> 
           <button class="export-btn" onclick="exportData('inventory', 'pdf')"> <i class="fas fa-file-pdf"></i> PDF </button> 
           <input type="file" id="importInventoryFile" accept=".json,.xlsx,.csv" style="display: none;" onchange="importData('inventory')"> 
           <button class="import-btn" onclick="document.getElementById('importInventoryFile').click()"> <i class="fas fa-upload"></i> ุงุณุชูุฑุงุฏ </button>
       </div>
      </div>
      
      <div class="filters-section" style="margin-bottom: 1.5rem;">
       <div class="filters-grid">
        <div class="form-group"><label class="form-label">ููุชุฑุฉ ุญุณุจ ุงูุชุตููู</label> <select class="form-select" id="inventoryCategory"> <option value="all">ุฌููุน ุงูุชุตูููุงุช</option> </select>
        </div>
        <div class="form-group"><label class="form-label">ุญุงูุฉ ุงููุฎุฒูู</label> <select class="form-select" id="stockStatus"> <option value="all">ุฌููุน ุงูุญุงูุงุช</option> <option value="in-stock">ูุชููุฑ</option> <option value="low-stock">ูุฎุฒูู ูููู</option> <option value="out-of-stock">ููุฏ ุงููุฎุฒูู</option> </select>
        </div>
       </div>
      </div>
      <div class="stats-grid">
       <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-chart-line"></i>
        </div>
        <div class="stat-value" id="totalProfit">
         0
        </div>
        <div class="stat-label">
         ุฅุฌูุงูู ุงูุฑุจุญ ุงููุชููุน
        </div>
       </div>
       <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-chart-pie"></i>
        </div>
        <div class="stat-value" id="totalCost">
         0
        </div>
        <div class="stat-label">
         ุฅุฌูุงูู ุงูุชูููุฉ
        </div>
       </div>
       <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-balance-scale"></i>
        </div>
        <div class="stat-value" id="profitMargin">
         0%
        </div>
        <div class="stat-label">
         ูุงูุด ุงูุฑุจุญ
        </div>
       </div>
      </div>
      <div class="table-container">
       <table class="table">
        <thead>
         <tr>
          <th><i class="fas fa-tag"></i> ุงูููุชุฌ</th>
          <th><i class="fas fa-layer-group"></i> ุงูุชุตููู</th>
          <th><i class="fas fa-warehouse"></i> ุงููููุฉ</th>
          <th><i class="fas fa-coins"></i> ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ</th>
          <th><i class="fas fa-money-bill"></i> ุงููููุฉ ุงููุชููุนุฉ</th>
          <th><i class="fas fa-chart-line"></i> ุงูุฑุจุญ ุงููุชููุน</th>
          <th><i class="fas fa-info-circle"></i> ุงูุญุงูุฉ</th>
          <th><i class="fas fa-cogs"></i> ุงูุฅุฌุฑุงุกุงุช</th>
         </tr>
        </thead>
        <tbody id="inventoryTableBody"><!-- ุจูุงูุงุช ุงููุฎุฒู ุณุชุธูุฑ ููุง -->
        </tbody>
       </table>
      </div>
     </div><!-- ุตูุญุฉ ุงูููุงุชูุฑ -->
     <div id="invoices" class="page">
      <div class="section-header" style="margin-bottom: 1.5rem;">
       <div class="section-title"><i class="fas fa-receipt"></i> ุฅุฏุงุฑุฉ ุงูููุงุชูุฑ
       </div>
       <div class="pos-search-box">
           <i class="fas fa-search"></i>
           <input type="text" id="invoicesSearchInput" class="pos-search-input" placeholder="ุงุจุญุซ ูู ุงูููุงุชูุฑ..." onkeyup="filterInvoices()">
       </div>
       <div class="export-import-buttons">
           <button class="export-btn" onclick="if(window.securityManager.checkPermission('reports_export')) exportData('invoices', 'json')" data-permission="reports_export"> <i class="fas fa-download"></i> JSON </button> 
           <button class="export-btn" onclick="if(window.securityManager.checkPermission('reports_export')) exportData('invoices', 'excel')" data-permission="reports_export"> <i class="fas fa-file-excel"></i> Excel </button> 
           <button class="export-btn" onclick="if(window.securityManager.checkPermission('reports_export')) exportData('invoices', 'pdf')" data-permission="reports_export"> <i class="fas fa-file-pdf"></i> PDF </button> 
           <input type="file" id="importInvoicesFile" accept=".json,.xlsx,.csv" style="display: none;" onchange="importData('invoices')"> 
           <button class="import-btn" onclick="document.getElementById('importInvoicesFile').click()" data-permission="settings_restore" style="display: none;"> <i class="fas fa-upload"></i> ุงุณุชูุฑุงุฏ </button>
       </div>
      </div>
      
      <div class="stats-grid" style="margin-bottom: 1.5rem;">
       <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-receipt"></i>
        </div>
        <div class="stat-value" id="totalInvoices">
         0
        </div>
        <div class="stat-label">
         ุฅุฌูุงูู ุงูููุงุชูุฑ
        </div>
       </div>
       <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-chart-line"></i>
        </div>
        <div class="stat-value" id="totalSales">
         0
        </div>
        <div class="stat-label">
         ุฅุฌูุงูู ุงููุจูุนุงุช
        </div>
       </div>
       <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-calendar-day"></i>
        </div>
        <div class="stat-value" id="todaySales">
         0
        </div>
        <div class="stat-label">
         ูุจูุนุงุช ุงูููู
        </div>
       </div>
      </div>
      <div class="table-container">
       <table class="table">
        <thead>
         <tr>
          <th><i class="fas fa-hashtag"></i> ุฑูู ุงููุงุชูุฑุฉ</th>
          <th><i class="fas fa-calendar"></i> ุงูุชุงุฑูุฎ</th>
          <th><i class="fas fa-user"></i> ุงูุนููู</th>
          <th><i class="fas fa-money-bill"></i> ุงููุจูุบ</th>
          <th><i class="fas fa-credit-card"></i> ุทุฑููุฉ ุงูุฏูุน</th>
          <th><i class="fas fa-user-tag"></i> ุงููุณุชุฎุฏู</th>
          <th><i class="fas fa-cogs"></i> ุงูุฅุฌุฑุงุกุงุช</th>
         </tr>
        </thead>
        <tbody id="invoicesTableBody"><!-- ุงูููุงุชูุฑ ุณุชุธูุฑ ููุง -->
        </tbody>
       </table>
      </div>
     </div><!-- ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุฏููู -->
     
     <!-- โ ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุฅูุตุงูุงุช -->
     <div id="receiptsManagement" class="page">
      <div class="section-header" style="margin-bottom: 1.5rem;">
       <div class="section-title"><i class="fas fa-file-invoice-dollar"></i> ุฅุฏุงุฑุฉ ุงูุฅูุตุงูุงุช
       </div>
       <div class="pos-search-box">
           <i class="fas fa-search"></i>
           <input type="text" id="receiptsSearchInput" class="pos-search-input" placeholder="ุงุจุญุซ ูู ุงูุฅูุตุงูุงุช..." onkeyup="filterReceipts()">
       </div>
       <div style="display: flex; gap: 1rem; align-items: center; flex-wrap: wrap;">
        <div class="export-import-buttons">
            <button class="export-btn" onclick="exportData('receipts', 'json')"> <i class="fas fa-download"></i> JSON </button> 
            <button class="export-btn" onclick="exportData('receipts', 'excel')"> <i class="fas fa-file-excel"></i> Excel </button> 
            <button class="export-btn" onclick="exportData('receipts', 'pdf')"> <i class="fas fa-file-pdf"></i> PDF </button> 
        </div>
        <select id="receiptsDateFilter" class="filter-select" onchange="filterReceipts()">
          <option value="all">ุฌููุน ุงูุชูุงุฑูุฎ</option>
          <option value="today">ุงูููู</option>
          <option value="yesterday">ุงูุฃูุณ</option>
          <option value="thisWeek">ูุฐุง ุงูุฃุณุจูุน</option>
          <option value="thisMonth">ูุฐุง ุงูุดูุฑ</option>
          <option value="custom">ุชุงุฑูุฎ ูุฎุตุต</option>
        </select>
        <select id="receiptsTypeFilter" class="filter-select" onchange="filterReceipts()">
          <option value="all">ุฌููุน ุงูุฃููุงุน</option>
          <option value="ููุฏู">ููุฏู</option>
          <option value="ุฃูุณุงุท">ุฃูุณุงุท</option>
        </select>
        <select id="receiptsUserFilter" class="filter-select" onchange="filterReceipts()">
          <option value="all">ุฌููุน ุงููุณุชุฎุฏููู</option>
        </select>
        <button class="btn btn-primary" onclick="mergeReceipts()" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none;">
          <i class="fas fa-compress-alt"></i> ุฏูุฌ ุฅูุตุงูุงุช ุงูููู
        </button>
       </div>
      </div>
      
      <div class="stats-grid" style="margin-bottom: 1.5rem;">
       <div class="stat-card">
        <div class="stat-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);"><i class="fas fa-file-invoice"></i>
        </div>
        <div class="stat-value" id="totalReceipts">
         0
        </div>
        <div class="stat-label">
         ุฅุฌูุงูู ุงูุฅูุตุงูุงุช
        </div>
       </div>
       <div class="stat-card">
        <div class="stat-icon" style="background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);"><i class="fas fa-money-bill-wave"></i>
        </div>
        <div class="stat-value" id="totalCashReceipts">
         0
        </div>
        <div class="stat-label">
         ูุจูุนุงุช ููุฏู
        </div>
       </div>
       <div class="stat-card">
        <div class="stat-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);"><i class="fas fa-calendar-alt"></i>
        </div>
        <div class="stat-value" id="totalInstallmentReceipts">
         0
        </div>
        <div class="stat-label">
         ูุจูุนุงุช ุฃูุณุงุท
        </div>
       </div>
       <div class="stat-card">
        <div class="stat-icon" style="background: linear-gradient(135deg, #FA8BFF 0%, #2BD2FF 90%, #2BFF88 100%);"><i class="fas fa-dollar-sign"></i>
        </div>
        <div class="stat-value" id="totalReceiptsAmount">
         0
        </div>
        <div class="stat-label">
         ุงูุฏุฎู ุงูุฅุฌูุงูู
        </div>
       </div>
      </div>
      
      <div class="table-container">
       <table class="table">
        <thead>
         <tr>
          <th><i class="fas fa-hashtag"></i> ุฑูู ุงูุฅูุตุงู</th>
          <th><i class="fas fa-calendar"></i> ุงูุชุงุฑูุฎ</th>
          <th><i class="fas fa-clock"></i> ุงูููุช</th>
          <th><i class="fas fa-user"></i> ุงูุนููู</th>
          <th><i class="fas fa-money-bill"></i> ุงููุจูุบ</th>
          <th><i class="fas fa-credit-card"></i> ุงูููุน</th>
          <th><i class="fas fa-user-tag"></i> ุงููุณุชุฎุฏู</th>
          <th><i class="fas fa-layer-group"></i> ูุฏูุฌ</th>
          <th><i class="fas fa-cogs"></i> ุงูุฅุฌุฑุงุกุงุช</th>
         </tr>
        </thead>
        <tbody id="receiptsTableBody"><!-- ุงูุฅูุตุงูุงุช ุณุชุธูุฑ ููุง -->
        </tbody>
       </table>
      </div>
     